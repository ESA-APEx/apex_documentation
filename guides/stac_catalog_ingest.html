<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>APEx STAC catalogue editor guide – APEx - Documentation Portal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../guides/catalog_openeo.html" rel="next">
<link href="../guides/upscaling_openeo.html" rel="prev">
<link href="../assets/img/logos/apex_icon_blue.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-5b02d0b16d1dd912e5f5c4857db19321.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-af25fd7430162ef8942043ee689cd5d9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/javascript">
    document.addEventListener('DOMContentLoaded', () => {
        'use strict';

        // MegaMenu Class
        class MegaMenu {
            constructor() {
                const megaMenu = document.querySelector('.js-mega-menu');
                if (!megaMenu) return;

                const megaMenuTopics = document.querySelectorAll('.js-mega-menu-topic');
                const megaMenuContents = document.querySelectorAll('.js-mega-menu-content');

                megaMenuTopics.forEach(topic => {
                    topic.addEventListener('click', this.handleClickTopic.bind(this));
                    topic.addEventListener('mouseover', this.handleHoverTopic.bind(this));
                    topic.addEventListener('mouseout', this.handleMouseOutTopic.bind(this));
                });

                this.megaMenuContents = megaMenuContents;
            }

            handleClickTopic(e) {
                e.preventDefault();
                this.switchContent(e.currentTarget);
            }

            handleHoverTopic(e) {
                this.switchContent(e.currentTarget);
            }

            handleMouseOutTopic(e) {
                // Optional: Add logic for mouse out events if needed
            }

            switchContent(topic) {
                const topicIndex = topic.getAttribute('data-index');
                this.megaMenuContents.forEach(content => {
                    content.setAttribute('aria-hidden', content.getAttribute('data-index') !== topicIndex);
                });
            }
        }

        // Hamburger Menu Class
        class HamburgerMenu {
            constructor() {
                const hamburgers = document.querySelectorAll('.js-hamburger');
                const menu = document.querySelector('.js-hamburger-menu');
                const body = document.body;

                if (menu) {
                    hamburgers.forEach(hamburger => {
                        hamburger.addEventListener('click', (e) => this.handleClickHamburger(e, menu, body));
                    });
                } else {

                }
            }

            handleClickHamburger(e, menu, body) {
                e.preventDefault();
                menu.classList.toggle('open');
                body.classList.toggle('has-hamburger-open');
            }
        }

        new MegaMenu();
        new HamburgerMenu();
    });


</script>
</head><body class="nav-sidebar floating nav-fixed"><div class="blur-container">
<div class="blur"></div>
</div>
<div class="container">
    <div class="c-header__top">
        <div class="c-header__navigate">
            <div class="c-hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>

            <a class="c-header__esa-text" href="#">
                <img src="../assets/img/logos/text-esa.svg" alt="The European Space Agency">
            </a>
        </div>

        <div>
            <div class="c-header__esa">
                <div class="region region-nav-branding">
                    <div id="block-vitotheme-branding" class="block block-system block-system-branding-block">
                        <div class="navbar-brand d-flex align-items-center">

                            <a href="../" title="Home" rel="home" class="site-logo d-block">
                                <img src="../assets/img/logos/logo-esa.svg" alt="Home" fetchpriority="high">
                            </a>

                            <div>

                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>
<div class="container"><div class="c-header__bottom">
      <a href="https://apex.esa.int/" class="c-header__logo">
        APEx
        <span>Application Propagation Environments</span>
      </a>

      <div class="c-header__nav">
          <div class="region region-nav-main">
    <nav role="navigation" aria-labelledby="block-vitotheme-main-navigation-menu" id="block-vitotheme-main-navigation" class="block block-menu navigation menu--main">

  <h5 class="visually-hidden" id="block-vitotheme-main-navigation-menu">Main navigation</h5>



<!-- Desktop Menu -->
<div class="navbar-nav navbar-nav-hover align-items-lg-center nav navbar-main d-none d-lg-block">
  <span class="mobile-menu-trigger" data-bs-toggle="modal" data-bs-target="#mobileMenuModal">
    <span class="icon-menu"></span>
  </span>
  <span class="overlay-gradient-white"></span>
                      <ul data-block="nav_main" class="menu menu-bar d-flex nav-level-0">


    <li>
              <a href="https://apex.esa.int/algorithm-services" class="menu-link menu-bar-link" data-drupal-link-system-path="node/32">Algorithm Services</a>



    </li>



    <li class="has-children">
              <a href="https://apex.esa.int/project-environments" class="menu-link menu-bar-link" data-drupal-link-system-path="node/4">Project Environments</a>

                <div class="c-sub-menu js-mega-menu">
  <div class="c-sub-menu__right">
          <div class="c-sub-menu__content js-mega-menu-content" aria-hidden="false" data-index="1">
                              <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-10/noun-internet-7110830-FBAB18.svg">






              <h6>
                <a href="https://apex.esa.int/services/web-portal" class="stretched-link">
                  Web Portal
                </a>
              </h6>
            </div>
                      <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-11/noun-planet-5054191-00AE9D_WEB.svg">






              <h6>
                <a href="https://apex.esa.int/services/geospatial-explorer" class="stretched-link">
                  Geospatial Explorer
                </a>
              </h6>
            </div>
                      <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-10/noun-manual-book-4118546-00619E.svg">






              <h6>
                <a href="https://apex.esa.int/services/documentation-hub" class="stretched-link">
                  Documentation Hub
                </a>
              </h6>
            </div>
                      <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-10/noun-internet-forum-6263703-FBAB18.svg">






              <h6>
                <a href="https://apex.esa.int/services/user-forum" class="stretched-link">
                  User Forum
                </a>
              </h6>
            </div>
                      <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-10/Catalogue%20_%20noun-course-catalogue-5992577-008E7A.svg">






              <h6>
                <a href="https://apex.esa.int/services/product-catalogue" class="stretched-link">
                  Product Catalogue
                </a>
              </h6>
            </div>
                      <div class="c-sub-menu__item">



                <img alt="" src="https://apex.esa.int/sites/default/files/2024-10/noun-coding-7221629-F47920.svg">






              <h6>
                <a href="https://apex.esa.int/services/collaborative-workspaces" class="stretched-link">
                  Collaborative Workspaces
                </a>
              </h6>
            </div>
                        </div>
      </div>
</div>



    </li>



    <li class="has-children">
              <a href="" class="menu-link menu-bar-link">Resources</a>


                        <div class="c-sub-menu c-sub-menu--basic">
            <ul>
                              <li><a href="https://algorithm-catalogue.apex.esa.int/" target="_self" class="sub-menu-link">Algorithm Services Catalogue</a></li>
                              <li><a href="https://browser.apex.esa.int/?_language=en" target="_self" class="sub-menu-link">Data Catalogue</a></li>
                          </ul>
          </div>

    </li>



    <li>
              <a href="https://esa-apex.github.io/apex_documentation/" class="menu-link menu-bar-link">Documentation</a>



    </li>



    <li>
              <a href="https://apex.esa.int/frequently-asked-questions" class="menu-link menu-bar-link" data-drupal-link-system-path="node/9">FAQ</a>



    </li>



    <li>
              <a href="https://apex.esa.int/about-apex" class="menu-link menu-bar-link" data-drupal-link-system-path="node/5">About APEx</a>



    </li>



    <li>
              <a href="https://apex.esa.int/news" class="menu-link menu-bar-link" data-drupal-link-system-path="node/33">News</a>



    </li>

              </ul>



  </div>


  </nav>

  </div>

      </div>

      <div class="c-header__contact">
        <a href="https://apex.esa.int/contact" class="btn btn-primary btn--arrow">Contact us</a>
      </div>

      <div class="c-hamburger__wrapper">
                <div class="c-hamburger js-hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

    </div></div>
<aside class="c-sidebar js-hamburger-menu">
    <div class="container">
        <div class="c-sidebar__inner">
             <div class="region region-search">
    <nav role="navigation" aria-labelledby="block-vitotheme-mainnavigation-2-menu" id="block-vitotheme-mainnavigation-2" class="block block-menu navigation menu--main">

  <h5 class="visually-hidden" id="block-vitotheme-mainnavigation-2-menu">Main navigation</h5>



              <ul data-block="search" class="c-sidebar__menu">
                    <li>
        <a href="https://apex.esa.int/algorithm-services" data-drupal-link-system-path="node/32">Algorithm Services</a>
              </li>
                <li>
        <a href="https://apex.esa.int/project-environments" data-drupal-link-system-path="node/4">Project Environments</a>
              </li>
                <li>
        <a href="">Resources</a>
              </li>
                <li>
        <a href="https://esa-apex.github.io/apex_documentation/">Documentation</a>
              </li>
                <li>
        <a href="https://apex.esa.int/frequently-asked-questions" data-drupal-link-system-path="node/9">FAQ</a>
              </li>
                <li>
        <a href="https://apex.esa.int/about-apex" data-drupal-link-system-path="node/5">About APEx</a>
              </li>
                <li>
        <a href="https://apex.esa.int/news" data-drupal-link-system-path="node/33">News</a>
              </li>
        </ul>



  </nav>

  </div>

        </div>
    </div>
</aside>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>






<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">APEx - Documentation Portal</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../guides/udp_writer_guide.html">Guides</a></li><li class="breadcrumb-item"><a href="../guides/stac_catalog_ingest.html">Ingest STAC metadata</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true">
 <span class="menu-text">On-demand EO services</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../eo_service_usage/openeo_usage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using openEO service</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../instantiation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/usecases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Cases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/geospatial_explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial Explorer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/project_portal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Portal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/user_workspace.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">User Workspace</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/ide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactive Development Environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/catalog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product Catalogue</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation Portal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instantiation/forum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">User Forum</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../propagation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Services</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/ondemandservices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On-Demand EO Services</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/usecases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Cases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/porting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Porting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/onboarding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Onboarding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/upscaling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Upscaling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/enhancement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Enhancement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/toolboxcloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Toolbox Cloudification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/intercomparison.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Intercomparison</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true">
 <span class="menu-text">Guides</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../guides/udp_writer_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating openEO based services</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../guides/eoap_writer_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating EOAP based services</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../guides/upscaling_openeo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Upscaling openEO based services</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../guides/stac_catalog_ingest.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Ingest STAC metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../guides/catalog_openeo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linking APEx STAC catalog with an openEO service</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../interoperability/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interoperability and Compliance Guidelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interoperability/definitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Definitions &amp; Actors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../propagation/service_development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Service Development Options</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interoperability/algohosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Developer and Provider Guidelines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interoperability/algohostingenv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorithm Hosting Platforms Guidelines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interoperability/geospatial_explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial Explorer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interoperability/businessmodel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Federated Business Model</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../guides/udp_writer_guide.html">Guides</a></li><li class="breadcrumb-item"><a href="../guides/stac_catalog_ingest.html">Ingest STAC metadata</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">APEx STAC catalogue editor guide</h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<p>This notebook demonstrates how to add metadata to an APEx STAC catalogue.</p>
<p>The STAC API is a standard, so other STAC documentation is also relevant.</p>
<section id="creating-stac-metadata-from-scratch" class="level2">
<h2 class="anchored" data-anchor-id="creating-stac-metadata-from-scratch">Creating STAC metadata from scratch</h2>
<p>In this first part, we show how to start from zero with a very basic example.</p>
<p>In most real-world cases, it is not needed nor recommended to author STAC metadata from scratch directly. Instead, various tools and platforms will generate STAC metadata for you. The STAC metadata generated here is entirely fictional, and also very much useless. It is not an example of how to create high quality metadata that complies with FAIR principles.</p>
<p>This example mostly serves as a demonstration of the API, which is very simply to use. Most of the more complex examples and tools will avoid this type of direct interaction.</p>
<div id="initial_id" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T06:53:01.132246Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T06:53:01.097746Z&quot;}" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> owslib.ogcapi.records <span class="im">import</span> Records</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> owslib.util <span class="im">import</span> Authentication</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8d88e7ccd00c0e08" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T15:24:51.115Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T15:24:51.110279Z&quot;}" data-execution_count="13">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> BearerAuth(requests.auth.AuthBase):</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, token):</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.token <span class="op">=</span> token</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__call__</span>(<span class="va">self</span>, r):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        r.headers[<span class="st">"authorization"</span>] <span class="op">=</span> <span class="st">"Bearer "</span> <span class="op">+</span> <span class="va">self</span>.token</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> r</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>auth <span class="op">=</span> BearerAuth(<span class="st">"""PROVIDE_OIDC_TOKEN"""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e160f5e18fc11d5f" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T15:24:54.814609Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T15:24:54.176115Z&quot;}" data-execution_count="14">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> Records(<span class="st">"https://catalogue.project-a.apex.esa.int"</span>,auth<span class="op">=</span>Authentication(auth_delegate<span class="op">=</span>auth))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>r</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>&lt;owslib.ogcapi.records.Records at 0x7809e804b050&gt;</code></pre>
</div>
</div>
<p>To get some information about our daaset, we can run a simple <code>gdalinfo</code>command against a representative asset.</p>
<div id="eaf89b7b7577e987" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T08:08:18.469990Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T08:08:17.920532Z&quot;}" data-execution_count="7">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>GDAL_DISABLE_READDIR_ON_OPEN<span class="op">=</span>EMPTY_DIR gdalinfo <span class="op">-</span>json <span class="st">"/vsicurl/https://eoresults.esa.int/d/APEX_TEST/2020/03/01/europe_aggr-orgc_00-020_mean_100_202003-202210/europe_aggr-orgc_00-020_mean_100_202003-202210.tif"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{
  "description":"/vsicurl/https://eoresults.esa.int/d/APEX_TEST/2020/03/01/europe_aggr-orgc_00-020_mean_100_202003-202210/europe_aggr-orgc_00-020_mean_100_202003-202210.tif",
  "driverShortName":"GTiff",
  "driverLongName":"GeoTIFF",
  "files":[
    "/vsicurl/https://eoresults.esa.int/d/APEX_TEST/2020/03/01/europe_aggr-orgc_00-020_mean_100_202003-202210/europe_aggr-orgc_00-020_mean_100_202003-202210.tif"
  ],
  "size":[
    40888,
    41712
  ],
  "coordinateSystem":{
    "wkt":"PROJCRS[\"ETRS89-extended / LAEA Europe\",\n    BASEGEOGCRS[\"ETRS89\",\n        ENSEMBLE[\"European Terrestrial Reference System 1989 ensemble\",\n            MEMBER[\"European Terrestrial Reference Frame 1989\"],\n            MEMBER[\"European Terrestrial Reference Frame 1990\"],\n            MEMBER[\"European Terrestrial Reference Frame 1991\"],\n            MEMBER[\"European Terrestrial Reference Frame 1992\"],\n            MEMBER[\"European Terrestrial Reference Frame 1993\"],\n            MEMBER[\"European Terrestrial Reference Frame 1994\"],\n            MEMBER[\"European Terrestrial Reference Frame 1996\"],\n            MEMBER[\"European Terrestrial Reference Frame 1997\"],\n            MEMBER[\"European Terrestrial Reference Frame 2000\"],\n            MEMBER[\"European Terrestrial Reference Frame 2005\"],\n            MEMBER[\"European Terrestrial Reference Frame 2014\"],\n            MEMBER[\"European Terrestrial Reference Frame 2020\"],\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]],\n            ENSEMBLEACCURACY[0.1]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4258]],\n    CONVERSION[\"Europe Equal Area 2001\",\n        METHOD[\"Lambert Azimuthal Equal Area\",\n            ID[\"EPSG\",9820]],\n        PARAMETER[\"Latitude of natural origin\",52,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",10,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"False easting\",4321000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",3210000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"northing (Y)\",north,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"easting (X)\",east,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Statistical analysis.\"],\n        AREA[\"Europe - European Union (EU) countries and candidates. Europe - onshore and offshore: Albania; Andorra; Austria; Belgium; Bosnia and Herzegovina; Bulgaria; Croatia; Cyprus; Czechia; Denmark; Estonia; Faroe Islands; Finland; France; Germany; Gibraltar; Greece; Hungary; Iceland; Ireland; Italy; Kosovo; Latvia; Liechtenstein; Lithuania; Luxembourg; Malta; Monaco; Montenegro; Netherlands; North Macedonia; Norway including Svalbard and Jan Mayen; Poland; Portugal including Madeira and Azores; Romania; San Marino; Serbia; Slovakia; Slovenia; Spain including Canary Islands; Sweden; Switzerland; Türkiye (Turkey); United Kingdom (UK) including Channel Islands and Isle of Man; Vatican City State.\"],\n        BBOX[24.6,-35.58,84.73,44.83]],\n    ID[\"EPSG\",3035]]",
    "dataAxisToSRSAxisMapping":[
      2,
      1
    ]
  },
  "geoTransform":[
    2515000.0,
    100.0,
    0.0,
    5512800.0,
    0.0,
    -100.0
  ],
  "metadata":{
    "":{
      "AREA_OR_POINT":"Area"
    },
    "IMAGE_STRUCTURE":{
      "LAYOUT":"COG",
      "COMPRESSION":"DEFLATE",
      "INTERLEAVE":"BAND",
      "PREDICTOR":"2"
    }
  },
  "cornerCoordinates":{
    "upperLeft":[
      2515000.0,
      5512800.0
    ],
    "lowerLeft":[
      2515000.0,
      1341600.0
    ],
    "lowerRight":[
      6603800.0,
      1341600.0
    ],
    "upperRight":[
      6603800.0,
      5512800.0
    ],
    "center":[
      4559400.0,
      3427200.0
    ]
  },
  "wgs84Extent":{
    "type":"Polygon",
    "coordinates":[
      [
        [
          -35.0421748,
          67.1549879
        ],
        [
          -9.3033749,
          33.067326
        ],
        [
          34.1876844,
          31.8603398
        ],
        [
          62.8622654,
          64.3475852
        ],
        [
          -35.0421748,
          67.1549879
        ]
      ]
    ]
  },
  "bands":[
    {
      "band":1,
      "block":[
        512,
        512
      ],
      "type":"UInt16",
      "colorInterpretation":"Gray",
      "noDataValue":65535.0,
      "overviews":[
        {
          "size":[
            20444,
            20856
          ]
        },
        {
          "size":[
            10222,
            10428
          ]
        },
        {
          "size":[
            5111,
            5214
          ]
        },
        {
          "size":[
            2555,
            2607
          ]
        },
        {
          "size":[
            1277,
            1303
          ]
        },
        {
          "size":[
            638,
            651
          ]
        },
        {
          "size":[
            319,
            325
          ]
        }
      ],
      "metadata":{}
    }
  ],
  "stac":{
    "proj:shape":[
      41712,
      40888
    ],
    "proj:wkt2":"PROJCRS[\"ETRS89-extended / LAEA Europe\",\n    BASEGEOGCRS[\"ETRS89\",\n        ENSEMBLE[\"European Terrestrial Reference System 1989 ensemble\",\n            MEMBER[\"European Terrestrial Reference Frame 1989\"],\n            MEMBER[\"European Terrestrial Reference Frame 1990\"],\n            MEMBER[\"European Terrestrial Reference Frame 1991\"],\n            MEMBER[\"European Terrestrial Reference Frame 1992\"],\n            MEMBER[\"European Terrestrial Reference Frame 1993\"],\n            MEMBER[\"European Terrestrial Reference Frame 1994\"],\n            MEMBER[\"European Terrestrial Reference Frame 1996\"],\n            MEMBER[\"European Terrestrial Reference Frame 1997\"],\n            MEMBER[\"European Terrestrial Reference Frame 2000\"],\n            MEMBER[\"European Terrestrial Reference Frame 2005\"],\n            MEMBER[\"European Terrestrial Reference Frame 2014\"],\n            MEMBER[\"European Terrestrial Reference Frame 2020\"],\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]],\n            ENSEMBLEACCURACY[0.1]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4258]],\n    CONVERSION[\"Europe Equal Area 2001\",\n        METHOD[\"Lambert Azimuthal Equal Area\",\n            ID[\"EPSG\",9820]],\n        PARAMETER[\"Latitude of natural origin\",52,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",10,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"False easting\",4321000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",3210000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"northing (Y)\",north,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"easting (X)\",east,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Statistical analysis.\"],\n        AREA[\"Europe - European Union (EU) countries and candidates. Europe - onshore and offshore: Albania; Andorra; Austria; Belgium; Bosnia and Herzegovina; Bulgaria; Croatia; Cyprus; Czechia; Denmark; Estonia; Faroe Islands; Finland; France; Germany; Gibraltar; Greece; Hungary; Iceland; Ireland; Italy; Kosovo; Latvia; Liechtenstein; Lithuania; Luxembourg; Malta; Monaco; Montenegro; Netherlands; North Macedonia; Norway including Svalbard and Jan Mayen; Poland; Portugal including Madeira and Azores; Romania; San Marino; Serbia; Slovakia; Slovenia; Spain including Canary Islands; Sweden; Switzerland; Türkiye (Turkey); United Kingdom (UK) including Channel Islands and Isle of Man; Vatican City State.\"],\n        BBOX[24.6,-35.58,84.73,44.83]],\n    ID[\"EPSG\",3035]]",
    "proj:epsg":3035,
    "proj:projjson":{
      "$schema":"https://proj.org/schemas/v0.7/projjson.schema.json",
      "type":"ProjectedCRS",
      "name":"ETRS89-extended / LAEA Europe",
      "base_crs":{
        "name":"ETRS89",
        "datum_ensemble":{
          "name":"European Terrestrial Reference System 1989 ensemble",
          "members":[
            {
              "name":"European Terrestrial Reference Frame 1989",
              "id":{
                "authority":"EPSG",
                "code":1178
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1990",
              "id":{
                "authority":"EPSG",
                "code":1179
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1991",
              "id":{
                "authority":"EPSG",
                "code":1180
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1992",
              "id":{
                "authority":"EPSG",
                "code":1181
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1993",
              "id":{
                "authority":"EPSG",
                "code":1182
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1994",
              "id":{
                "authority":"EPSG",
                "code":1183
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1996",
              "id":{
                "authority":"EPSG",
                "code":1184
              }
            },
            {
              "name":"European Terrestrial Reference Frame 1997",
              "id":{
                "authority":"EPSG",
                "code":1185
              }
            },
            {
              "name":"European Terrestrial Reference Frame 2000",
              "id":{
                "authority":"EPSG",
                "code":1186
              }
            },
            {
              "name":"European Terrestrial Reference Frame 2005",
              "id":{
                "authority":"EPSG",
                "code":1204
              }
            },
            {
              "name":"European Terrestrial Reference Frame 2014",
              "id":{
                "authority":"EPSG",
                "code":1206
              }
            },
            {
              "name":"European Terrestrial Reference Frame 2020",
              "id":{
                "authority":"EPSG",
                "code":1382
              }
            }
          ],
          "ellipsoid":{
            "name":"GRS 1980",
            "semi_major_axis":6378137,
            "inverse_flattening":298.257222101
          },
          "accuracy":"0.1",
          "id":{
            "authority":"EPSG",
            "code":6258
          }
        },
        "coordinate_system":{
          "subtype":"ellipsoidal",
          "axis":[
            {
              "name":"Geodetic latitude",
              "abbreviation":"Lat",
              "direction":"north",
              "unit":"degree"
            },
            {
              "name":"Geodetic longitude",
              "abbreviation":"Lon",
              "direction":"east",
              "unit":"degree"
            }
          ]
        },
        "id":{
          "authority":"EPSG",
          "code":4258
        }
      },
      "conversion":{
        "name":"Europe Equal Area 2001",
        "method":{
          "name":"Lambert Azimuthal Equal Area",
          "id":{
            "authority":"EPSG",
            "code":9820
          }
        },
        "parameters":[
          {
            "name":"Latitude of natural origin",
            "value":52,
            "unit":"degree",
            "id":{
              "authority":"EPSG",
              "code":8801
            }
          },
          {
            "name":"Longitude of natural origin",
            "value":10,
            "unit":"degree",
            "id":{
              "authority":"EPSG",
              "code":8802
            }
          },
          {
            "name":"False easting",
            "value":4321000,
            "unit":"metre",
            "id":{
              "authority":"EPSG",
              "code":8806
            }
          },
          {
            "name":"False northing",
            "value":3210000,
            "unit":"metre",
            "id":{
              "authority":"EPSG",
              "code":8807
            }
          }
        ]
      },
      "coordinate_system":{
        "subtype":"Cartesian",
        "axis":[
          {
            "name":"Northing",
            "abbreviation":"Y",
            "direction":"north",
            "unit":"metre"
          },
          {
            "name":"Easting",
            "abbreviation":"X",
            "direction":"east",
            "unit":"metre"
          }
        ]
      },
      "scope":"Statistical analysis.",
      "area":"Europe - European Union (EU) countries and candidates. Europe - onshore and offshore: Albania; Andorra; Austria; Belgium; Bosnia and Herzegovina; Bulgaria; Croatia; Cyprus; Czechia; Denmark; Estonia; Faroe Islands; Finland; France; Germany; Gibraltar; Greece; Hungary; Iceland; Ireland; Italy; Kosovo; Latvia; Liechtenstein; Lithuania; Luxembourg; Malta; Monaco; Montenegro; Netherlands; North Macedonia; Norway including Svalbard and Jan Mayen; Poland; Portugal including Madeira and Azores; Romania; San Marino; Serbia; Slovakia; Slovenia; Spain including Canary Islands; Sweden; Switzerland; Türkiye (Turkey); United Kingdom (UK) including Channel Islands and Isle of Man; Vatican City State.",
      "bbox":{
        "south_latitude":24.6,
        "west_longitude":-35.58,
        "north_latitude":84.73,
        "east_longitude":44.83
      },
      "id":{
        "authority":"EPSG",
        "code":3035
      }
    },
    "proj:transform":[
      2515000.0,
      100.0,
      0.0,
      5512800.0,
      0.0,
      -100.0
    ],
    "raster:bands":[
      {
        "data_type":"uint16",
        "nodata":null
      }
    ],
    "eo:bands":[
      {
        "name":"b1",
        "description":"Gray"
      }
    ]
  }
}</code></pre>
</div>
</div>
<div id="4a8d5d716dd5a076" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T08:08:48.546909Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T08:08:48.526779Z&quot;}" data-scrolled="true" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pystac</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>spatial_extent <span class="op">=</span> pystac.SpatialExtent(bboxes<span class="op">=</span>[[<span class="dv">4</span>,<span class="dv">51</span>,<span class="dv">5</span>,<span class="dv">52</span>]])</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>collection_interval <span class="op">=</span> <span class="bu">sorted</span>([datetime(<span class="dv">2020</span>,<span class="dv">1</span>,<span class="dv">1</span>), datetime(<span class="dv">2022</span>,<span class="dv">1</span>,<span class="dv">1</span>)])</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>temporal_extent <span class="op">=</span> pystac.TemporalExtent(intervals<span class="op">=</span>[collection_interval])</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>description_markdown <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="st">SOC content in the 0-20 cm top soil expressed in g kg-1 for 100 m resolution pixels</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="st">Applications:</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="st">- First globally consistent and contiguous complete gridded soil property map of Europe</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="st">- Indicator of soil health, as per Mission Area Soil Health and Food</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="st">- By 2030, at least 75</span><span class="sc">% o</span><span class="st">f soils in each EU Member State should be in healthy condition or show a</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="st">significant improvement towards meeting accepted thresholds of indicators, to support ecosystem</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="st">services</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="st">*Reliability*: More than 83 </span><span class="sc">% o</span><span class="st">f the cross-validation points fall within the 70% prediction interval for the bare soil model.</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="st">For the vegetated area model 94 </span><span class="sc">% o</span><span class="st">f the points fall within the 90 % prediction interval.</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>item_assets <span class="op">=</span> {</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SOC"</span>: {</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>       <span class="st">"type"</span>: <span class="st">"image/tiff; application=geotiff; profile=cloud-optimized"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">"title"</span>: <span class="st">"SOC"</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"description"</span>: <span class="st">"SOC content in the 0-20 cm top soil expressed in g kg-1"</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"data_type"</span>: <span class="st">"uint16"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"nodata"</span>: <span class="dv">65535</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"unit"</span>: <span class="st">"g kg-1"</span>,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"roles"</span>: [</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">"data"</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>collection_extent <span class="op">=</span> pystac.Extent(spatial<span class="op">=</span>spatial_extent, temporal<span class="op">=</span>temporal_extent)</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>collection <span class="op">=</span> pystac.Collection(<span class="bu">id</span><span class="op">=</span><span class="st">'esa-worldsoils'</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>                               description<span class="op">=</span>description_markdown,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>                               extent<span class="op">=</span>collection_extent,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>                               extra_fields<span class="op">=</span><span class="bu">dict</span>(item_assets<span class="op">=</span>item_assets),</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>                               license<span class="op">=</span><span class="st">'CC-BY-SA-4.0'</span>)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>collection.summaries.add(<span class="st">"proj:code"</span>,[<span class="st">"EPSG:3035"</span>])</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>collection.summaries.add(<span class="st">"gsd"</span>,[<span class="dv">100</span>])</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>collection.summaries.add(<span class="st">"bands"</span>,[{</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"title"</span>: <span class="st">"SOC"</span>,</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gsd"</span>: <span class="dv">100</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>}])</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>collection</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">


<style>
.pystac-summary {
    cursor: pointer;
    display: list-item;
    list-style: revert;
    margin-bottom: 0 !important;

    .pystac-l {
        padding-left: 0.5em;
        color: rgb(64, 128, 128);
        font-style: italic;
    }
}
.pystac-row {
    overflow-wrap: break-word;
    padding-left: .825em;

    .pystac-k {
        display: inline-block;
        margin: 0px 0.5em 0px 0px;
    }
    .pystac-v {
        color: rgb(186, 33, 33);
    }
}
.pystac-k {
    color: rgb(0, 128, 0);
    font-weight: 700;
}
</style>
<div class="jp-RenderedJSON jp-mod-trusted jp-OutputArea-output">
    <div class="container" style="line-height: normal;">
        <ul style="padding: 0px; margin: 0px; list-style: none; display: block;">
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">type</span>
            <span class="pystac-v">"Collection"</span>
        </li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">id</span>
            <span class="pystac-v">"esa-worldsoils"</span>
        </li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">stac_version</span>
            <span class="pystac-v">"1.0.0"</span>
        </li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">description</span>
            <span class="pystac-v">"
SOC content in the 0-20 cm top soil expressed in g kg-1 for 100 m resolution pixels

Applications:

- First globally consistent and contiguous complete gridded soil property map of Europe
- Indicator of soil health, as per Mission Area Soil Health and Food
- By 2030, at least 75% of soils in each EU Member State should be in healthy condition or show a
significant improvement towards meeting accepted thresholds of indicators, to support ecosystem
services

*Reliability*: More than 83 % of the cross-validation points fall within the 70% prediction interval for the bare soil model.
For the vegetated area model 94 % of the points fall within the 90 % prediction interval.
"</span>
        </li>
    
                
            
                
                    <li><details>
        <summary class="pystac-summary"><span class="pystac-k">links</span><span class="pystac-l">[] 0 items</span></summary>
        
    </details></li>
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">item_assets</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">SOC</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">type</span>
            <span class="pystac-v">"image/tiff; application=geotiff; profile=cloud-optimized"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">title</span>
            <span class="pystac-v">"SOC"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">description</span>
            <span class="pystac-v">"SOC content in the 0-20 cm top soil expressed in g kg-1"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">data_type</span>
            <span class="pystac-v">"uint16"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">nodata</span>
            <span class="pystac-v">65535</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">unit</span>
            <span class="pystac-v">"g kg-1"</span>
        </li>
    
            
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">roles</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">"data"</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
            
        
    </ul>
        </details></li>
    
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">extent</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">spatial</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">bbox</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">0</span><span class="pystac-l">[] 4 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">4</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">51</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">2</span>
            <span class="pystac-v">5</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">3</span>
            <span class="pystac-v">52</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
            
        
            
                
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">temporal</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">interval</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">0</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">"2020-01-01T00:00:00Z"</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">"2022-01-01T00:00:00Z"</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
            
        
    </ul>
        </details></li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">license</span>
            <span class="pystac-v">"CC-BY-SA-4.0"</span>
        </li>
    
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">summaries</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">proj:code</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">"EPSG:3035"</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">gsd</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">100</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">bands</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">0</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">title</span>
            <span class="pystac-v">"SOC"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">gsd</span>
            <span class="pystac-v">100</span>
        </li>
    
            
        
    </ul>
        </details></li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
                
            
        </ul>
    </div>
</div>
</div>
</div>
<div id="6468e58e967b428b" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T10:23:14.782220Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T10:23:14.645409Z&quot;}" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>coll_dict <span class="op">=</span> collection.to_dict()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>default_auth <span class="op">=</span> {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"_auth"</span>: {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"read"</span>: [<span class="st">"anonymous"</span>],</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"write"</span>: [<span class="st">"stac-openeo-admin"</span>, <span class="st">"stac-openeo-editor"</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>coll_dict.update(default_auth)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(<span class="st">"https://catalogue.project-a.apex.esa.int/collections"</span>, auth<span class="op">=</span>auth,json<span class="op">=</span>coll_dict)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>&lt;Response [201]&gt;</code></pre>
</div>
</div>
<div id="317a8c176ff11ffe" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-11-06T08:09:50.644944Z&quot;,&quot;start_time&quot;:&quot;2024-11-06T08:09:50.424802Z&quot;}" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shapely</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>geometry <span class="op">=</span> {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"type"</span>:<span class="st">"Polygon"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"coordinates"</span>:[</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      [</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span><span class="fl">35.0421748</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>          <span class="fl">67.1549879</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span><span class="fl">9.3033749</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>          <span class="fl">33.067326</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>          <span class="fl">34.1876844</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>          <span class="fl">31.8603398</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>          <span class="fl">62.8622654</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>          <span class="fl">64.3475852</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span><span class="fl">35.0421748</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>          <span class="fl">67.1549879</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>item_bbox <span class="op">=</span> shapely.geometry.shape(geometry).bounds</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>collection_item <span class="op">=</span> pystac.Item(<span class="bu">id</span><span class="op">=</span><span class="st">'europe_aggr-orgc_00-020_mean_100_202003-202210'</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>                              geometry<span class="op">=</span>geometry,</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>                              bbox <span class="op">=</span> item_bbox,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>                              datetime<span class="op">=</span>datetime(<span class="dv">2022</span>,<span class="dv">3</span>,<span class="dv">1</span>),</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>                              collection<span class="op">=</span>collection.<span class="bu">id</span>,</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>                              properties<span class="op">=</span>{})</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>collection_item.common_metadata.gsd <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>asset <span class="op">=</span> pystac.Asset(href<span class="op">=</span><span class="st">"https://eoresults.esa.int/d/APEX_TEST/2020/03/01/europe_aggr-orgc_00-020_mean_100_202003-202210/europe_aggr-orgc_00-020_mean_100_202003-202210.tif"</span>, </span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>                      media_type<span class="op">=</span>pystac.MediaType.GEOTIFF, roles<span class="op">=</span>[<span class="st">"data"</span>])</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>collection_item.add_asset(<span class="st">"SOC"</span>, asset)</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>collection_item</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">


<style>
.pystac-summary {
    cursor: pointer;
    display: list-item;
    list-style: revert;
    margin-bottom: 0 !important;

    .pystac-l {
        padding-left: 0.5em;
        color: rgb(64, 128, 128);
        font-style: italic;
    }
}
.pystac-row {
    overflow-wrap: break-word;
    padding-left: .825em;

    .pystac-k {
        display: inline-block;
        margin: 0px 0.5em 0px 0px;
    }
    .pystac-v {
        color: rgb(186, 33, 33);
    }
}
.pystac-k {
    color: rgb(0, 128, 0);
    font-weight: 700;
}
</style>
<div class="jp-RenderedJSON jp-mod-trusted jp-OutputArea-output">
    <div class="container" style="line-height: normal;">
        <ul style="padding: 0px; margin: 0px; list-style: none; display: block;">
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">type</span>
            <span class="pystac-v">"Feature"</span>
        </li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">stac_version</span>
            <span class="pystac-v">"1.0.0"</span>
        </li>
    
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">id</span>
            <span class="pystac-v">"europe_aggr-orgc_00-020_mean_100_202003-202210"</span>
        </li>
    
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">properties</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">gsd</span>
            <span class="pystac-v">100</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">datetime</span>
            <span class="pystac-v">"2022-03-01T00:00:00Z"</span>
        </li>
    
            
        
    </ul>
        </details></li>
    
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">geometry</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">type</span>
            <span class="pystac-v">"Polygon"</span>
        </li>
    
            
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">coordinates</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">0</span><span class="pystac-l">[] 5 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">0</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">-35.0421748</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">67.1549879</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">1</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">-9.3033749</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">33.067326</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">2</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">34.1876844</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">31.8603398</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">3</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">62.8622654</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">64.3475852</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">4</span><span class="pystac-l">[] 2 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">-35.0421748</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">67.1549879</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
                
            
                
                    <li><details>
        <summary class="pystac-summary"><span class="pystac-k">links</span><span class="pystac-l">[] 0 items</span></summary>
        
    </details></li>
                
            
                
                    
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">assets</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li><details>
            <summary class="pystac-summary"><span class="pystac-k">SOC</span></summary>
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">href</span>
            <span class="pystac-v">"https://eoresults.esa.int/d/APEX_TEST/2020/03/01/europe_aggr-orgc_00-020_mean_100_202003-202210/europe_aggr-orgc_00-020_mean_100_202003-202210.tif"</span>
        </li>
    
            
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">type</span>
            <span class="pystac-v">"image/tiff; application=geotiff"</span>
        </li>
    
            
        
            
                <li><details>
        <summary class="pystac-summary"><span class="pystac-k">roles</span><span class="pystac-l">[] 1 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">"data"</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
            
        
    </ul>
        </details></li>
    
            
        
    </ul>
        </details></li>
    
                
            
                
                    <li><details>
        <summary class="pystac-summary"><span class="pystac-k">bbox</span><span class="pystac-l">[] 4 items</span></summary>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">0</span>
            <span class="pystac-v">-35.0421748</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">1</span>
            <span class="pystac-v">31.8603398</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">2</span>
            <span class="pystac-v">62.8622654</span>
        </li>
    
            
        
    </ul>
        
            <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        
            
                
        <li class="pystac-row">
            <span class="pystac-k">3</span>
            <span class="pystac-v">67.1549879</span>
        </li>
    
            
        
    </ul>
        
    </details></li>
                
            
                
                    <li><details>
        <summary class="pystac-summary"><span class="pystac-k">stac_extensions</span><span class="pystac-l">[] 0 items</span></summary>
        
    </details></li>
                
            
                
                    
        <li class="pystac-row">
            <span class="pystac-k">collection</span>
            <span class="pystac-v">"esa-worldsoils"</span>
        </li>
    
                
            
        </ul>
    </div>
</div>
</div>
</div>
<div id="b4597e0f11f1aed3" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-10-09T17:46:47.406431Z&quot;,&quot;start_time&quot;:&quot;2024-10-09T17:46:46.530223Z&quot;}" data-execution_count="15">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>r.collection_item_create(collection.<span class="bu">id</span>, collection_item.to_dict())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>True</code></pre>
</div>
</div>
</section>
<section id="cleaning-up" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-up">Cleaning up</h2>
<p>When the demo is done, we can simply clean up by deleting our (useless) test collection.</p>
<div id="1f432fe4ac1f1366" class="cell" data-executetime="{&quot;end_time&quot;:&quot;2024-10-09T14:37:05.325105Z&quot;,&quot;start_time&quot;:&quot;2024-10-09T14:37:03.383691Z&quot;}" data-execution_count="26">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>requests.delete(<span class="st">"https://stac-openeo-dev.vgt.vito.be/collections/"</span> <span class="op">+</span> collection.<span class="bu">id</span>, auth<span class="op">=</span>auth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>&lt;Response [204]&gt;</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-page-right">
  <div class="nav-page nav-page-previous">
      <a href="../guides/upscaling_openeo.html" class="pagination-link" aria-label="Upscaling openEO based services">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Upscaling openEO based services</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../guides/catalog_openeo.html" class="pagination-link" aria-label="Linking APEx STAC catalog with an openEO service">
        <span class="nav-page-text">Linking APEx STAC catalog with an openEO service</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>